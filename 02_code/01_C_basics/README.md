
# C language 기초

자료구조를 배우기 전에 C프로그래밍 언어에 대한 지식이 필요하다. 최소한의 지식을 예제를 이용하여 소개하기로 한다.

## 프로그램 구성
C언어로 구현한 프로그램은 함수의 집합으로 구성되어 있다. 함수 중에 반드시 main()이란 이름의 함수가 존재해야 하며
프로그램이 시작될 때 main 함수를 실행한다. 함수는 리턴타입, 함수명, ( )안에 입력 변수, 그리고 { } 안에 함수 body로 구성되며, 함수 body에는 반드시 마지막에 리턴 값을 반환해야 한다. 따라서 가장 기본적인 함수 구성은 아래과 같다.

``` c
int main() {
  return 0;
}
```

### 컴파일

위에 작성한 파일을 foo.c로 저장했다고 가정하자. C컴파일러를 이용하여 실행파일을 아래와 같이 생성해보자.

``` shell
% gcc -o foo foo.c
```

%는 터미널에 표시된 기호이며 사용하는 시스템 마다 약간씩 다를 수 있다. 명령어 gcc는 gnu c compiler의 약자로 gcc라는 프로그램을 호출하는 것을 의미한다. -o는 출력 생성 파일을 지정하는 것으로 다음에 오는 foo가 생성될 파일 명이다. 따라서 사용자가 워하는 다른 이름을 지정해도 된다. 마지막 foo.c가 컴파일러의 입력으로 전달할 C 코드가 된다. 

### 실행

성공적으로 에러없이 컴파일이 되었다면 foo가 생성되었을 것이다. ls 명령어를 이용하여 현재 폴더를 확인하면 다음과 같다.

``` shell
% ls
foo foo.c 
```

생성된 실행파일 foo를 이제 실행해보자.
``` shell
% ./foo
```

### Makefile를 이용한 컴파일,실행 자동화

C코드를 수정한 뒤 컴파일, 실행을 매번 수행하지 않고 자동화 해보자. make라는 실행 자동화 도구를 이용한다. 실행할 내용을 Makefile이란 파일에 다음과 같이 작성한다. 파일명이 정확히 Makefile이어야 하므로 주의한다.

``` make
all:
      gcc -o foo foo.c
      ./foo
      
```

위의 Makefile안에 작성한 코드 가운데 gcc 앞에 공백은 반드시 tab이어야 한다. 커맨드 콘솔에서, 다음과 같이 입력해본다.

``` shell
% make all
gcc -o foo foo.c
./foo
```

make 명령어 다음에 지정한 all에 해당하는 코드를 Makefile내에서 찾아서 그 하위의 모든 코드를 일괄 실행하게 된다.

## 입/출력 함수

자 이제 C 언어를 이용하여 사용자 인터페이스인 입/출력 처리를 해보자. C언어는 printf라는 함수를 라이브러리로 제공한다. 다음의 코드를 보고 printf 함수 활용법을 예제로 파악하자. printf는 stdio.h라는 라이브러리 파일에 정의되어 있으므로 #include를 이용하여 프로그램에 포함시켜 주어야 한다.

``` C
#include <stdio.h>

int main() {
  int a;
  a = 10;
  
  printf("a is %d\n", a);
}
```

" " 사이에는 화면에 출력될 데이트를 지정하며 %d로 지정된 부분은 ,이후에 지정된 변수값을 순서대로 읽어서 채워지게 된다. %d는 값이 정수를 의미한다. 값의 포맷을 줄수 있다. %d, %f, %x, %p 등이 있으며 자세한 내용은 정식 C언어 교재를 참고하기 바란다. 

프로그램 내부의 변수의 값들을 화면으로 출력할 수 있다면, 이제 사용자로부터 입력을 받아서 프로그램 내부 변수에 채워보자. C언어는 scanf라는 함수를 라이브러리로 제공하여 사용자 입력을 프로그램 내부로 읽어들일 수 있다. 다음의 코드를 보고 활용법을 이해하자.

``` C
#include <stdio.h>

int main() {
  int a;
  a = 10;
  b;
  
  printf("a is %d\n", a);
  
  scanf("enter b: %d", &b);
  printf("b is %d\n", b);
    
}
```
scanf 함수에 " " 사이에 문자열을 일단 화면에 출력이 되며, 사용자가 입력하는 값이 %d로 지정된 포맷으로 (정수형) 변환되어 분수 b로 전달된다. 이때 반드시 저장될 변수의 주소 &b를 scanf의 입력으로 정의해야 한다.


## 기본 data type

프로그램은 기본적으로 데이타를 다루는 프로세싱 언어이다. 따라서 프로그램에서 사용할 데이타를 정의해야 한다. 정의할 때는 데이타의 이름 (변수명), 크기 및 값의 종류 (타입)가 필요한다. 따라서 C언어에서는 이 2가지 정보를 표현하기 위해 [타입] [변수명]; 문법적 형태를 따른다. 예를 들어 정수형 값을 가지는 변수명 a는 다음과 같이 정의될 수 있다.

``` C
int a;
int b, c, d;
float f;
long g;
double h;
```

C언어는 다양한 형태의 타입을 지원한다. 자세한 내용은 정식 c언어 교재를 참고한다. 분명한 것은 변수 명 앞에 타입을 지정하여 변수에 들어갈 값이 종류와 그 크기를 제한한다는 사실이다. 다른 종류의 값이 저장되거나, 크기를 초과할 경우 컴파일 에러가 발생한다.


## 배열 (array)

같은 타입을 가지는 변수를 복수개로 반복적으로 선언할 필요가 있을 경우 모든 변수의 이름을 다르게 주는 것은 비효율적이다. 따라서 C언어는 배열을 지원하여 하나의 변수에 대해 복수의 데이타 집합으로 표현할 수 있는 배열을 지원한다. 아래의 예를 보자. 변수의 크기를 지정하는 부분만 다르다.

``` C
int a[100];
```

변수 a는 배열이며 100개의 int타입의 값을 담을 수 있는 공간이 정의된다. 각각의 공간에는 a[인덱스]의 형태로 접근이 되며 0에서부터 99까지 주소를 가진다. 주의할 점은 항상 인덱스가 0에서 출발하므로 배열 크기보다 1작은 값이 마지막 접근 가능한 인덱스가 된다는 점에 주의하자.

``` C
int a[100];
a[0] = 12;
a[1] = 34;
...

a[99] = 78;
// a[100] = 36; not allowed 
```


## 포인터 (pointer) 타입

C언어는 데이타를 다루는 언어의 하나로, 변수에 저장된 데이트를 처리하며, 그 변수는 선언될 때 정확한 타입으로 지정된다고 앞에서 서술했다.
정수, 소수, 문자, 문자열, 등 다양한 데이타 값의 종류 (타입) 중에 그 값이 변수의 주소일 경우 우리는 이를 포인터라고 한다.

사실 변수는 메모리의 한 공간을 차지하며 이는 특정 주소에 위치하고 있음을 의미한다. 변수의 주소는 십진수, 16진수로 표현될 뿐이지 사실상 주소값은 정수이다. 따라서 C언어에서는 그 값이 변수의 주소를 의미한다고 명확하게 표현할 수 있는 언어적인 문법을 제공한다. 아래의 예를 보자.

``` C
int a = 10;
int* ap;
```

변수 a는 메모리 공간에 특정 영역을 차지하며 그 공간에는 정수값만 들어갈 수 있으며 값 10이 저장되었다. 두번째 문장을 보면 타입 뒤에 * 를 사용한 것을 알 수 있다. 이렇게 변수를 선언할 때 타입을 지정하는 자리에 * 가 들어가 있으면 포인터 즉 주소값을 담을 수 있는 변수가 정의된다. 그 주소가 가르키는 공간에 값은 int라는 의미이다. 뒤에서부터 읽어보면 ap라는 변수가 정의되고, 그 변수 안에는 특정 종류의 값만 들아갈 수 있는데 * 가 붙었으므로 주소 값이 담길 것이고, 그 주소값을 따라가보면 int라는 정수값이 존재한다는 말이다. 그럼 다음 코드를 살펴보자.

``` C
int a = 10;
int* ap;

ap = &a;

```

어떤 변수가 메모리상에 위치한 주소를 알아내는 것은 어렵다. 알아낸다 하더라도 그 값은 의미가 없다. 다른 변수가 추가되거나, 실행할 때마다 달라질 수 있기 때문이다. 따라서 C언어에서는 변수의 주소를 알아낼 수 있는 표현방법을 제공하며, &를 변수 앞에 붙이면 된다. 



## 구조체 (struct)

## 메모리 동적 할당 (malloc)

## void pointer


